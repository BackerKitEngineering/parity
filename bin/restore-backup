#!/usr/bin/ruby

require 'optparse'
require File.join(File.dirname(__FILE__), '..', 'lib', 'parity')

options = {}

optparse = OptionParser.new do |opts|
  opts.on '-f', '--from DATABASE_ENV', 'The source database (such as production or staging)' do |from|
    options[:from] = from
  end

  opts.on '-t', '--to DATABASE_ENV', 'The target database (such as staging or development)' do |to|
    options[:to] = to
  end

  opts.on '-h', '--help', 'Restore backup from one environment into another.' do
    puts opts
    exit
  end
end

optparse.parse!
Parity::Backup.new(options).restore
